<div class="calandar-container">
  <div id="external-events" class="p-4 bg-gray-100 rounded-lg shadow-md">
    <p class="font-bold">Candidatures</p>
    <div *ngFor="let candidature of listCandidat">
      <div class="fc-event cursor-pointer mt-3 p-2 bg-blue-500 text-white rounded-lg shadow-md">
        {{candidature.name}}
      </div>
    </div>
  </div>

  <div class="mt-8">
    <full-calendar #fullcalendar [options]="calendarOptions"></full-calendar>
  </div>
</div>

<!--Popup Ajout Entretien -->
<div
  class="fixed antialiased inset-0 bg-stone-800 bg-opacity-75 flex justify-center items-center opacity-0 pointer-events-none transition-opacity duration-300 ease-out z-[9999]"
  id="exampleModalMessage" aria-hidden="true">
  <div
    class="bg-white rounded-lg w-9/12 sm:w-7/12 md:w-5/12 lg:w-3/12 scale-95 transition-transform duration-300 ease-out">
    <form action="#">
      <div class="p-4 text-stone-500">
        <div class="mb-4 space-y-1.5">
          <label for="username" class="font-sans text-sm text-stone-800 dark:text-white font-semibold mb-2">Nom
            Candidat</label>
          <div class="relative w-full">
            <input placeholder="Username" type="text" disabled="true" [value]="selectedCandidat?.name"
              class="w-full outline-none text-stone-800 placeholder:text-stone-600/60 border border-stone-200 text-sm py-2 px-2.5 shadow-sm bg-white rounded-lg hover:border-stone-300 focus:border-stone-400" />
          </div>
          <div class="mb-4 space-y-1.5">
            <label for="username" class="font-sans text-sm text-stone-800 dark:text-white font-semibold mb-2">Poste
              Candidat</label>
            <div class="relative w-full">
              <input placeholder="Username" type="text" disabled="true" [value]="selectedCandidat?.job?.title"
                class="w-full outline-none text-stone-800 placeholder:text-stone-600/60 border border-stone-200 text-sm py-2 px-2.5 shadow-sm bg-white rounded-lg hover:border-stone-300 focus:border-stone-400" />
            </div>
          </div>
          <div class="mb-4 space-y-1.5">
            <label for="appointmentTime" class="font-sans text-sm text-stone-800 font-semibold">Temps
              D'entretien</label>
            <div class="relative w-full">
              <input id="interviewTime" type="time" [(ngModel)]="selectedTime" name="interviewTime"
                class="w-full outline-none text-stone-800 placeholder:text-stone-600/60 border border-stone-200 text-sm py-2 px-2.5 shadow-sm bg-white rounded-lg hover:border-stone-300 focus:border-stone-400" />
            </div>
          </div>
          <div class="mb-4 space-y-1.5">
            <label for="manager" class="font-sans text-sm text-stone-800 font-semibold">Localisation</label>
            <div class="relative w-full">
              <select id="manager" name="selectedManager" [(ngModel)]="selectedLocation"
                class="w-full outline-none text-stone-800 border border-stone-200 text-sm py-2 px-2.5 shadow-sm bg-white rounded-lg hover:border-stone-300 focus:border-stone-400">
                <option value="Sale Réunion 1">Sale Réunion 1</option>
                <option value="Sale Réunion 2">Sale Réunion 2</option>
              </select>
            </div>
          </div>
          <div class="mb-4 space-y-1.5">
            <label for="manager" class="font-sans text-sm text-stone-800 font-semibold">Manager</label>
            <div class="relative w-full">
              <select id="manager" name="selectedManager" [(ngModel)]="selectedManager"
                class="w-full outline-none text-stone-800 border border-stone-200 text-sm py-2 px-2.5 shadow-sm bg-white rounded-lg hover:border-stone-300 focus:border-stone-400">
                <option *ngFor="let manager of managers" [ngValue]="manager">{{ manager.name }}</option>
              </select>
            </div>
          </div>

        </div>
      </div>
      <div class="p-4 pt-0 flex justify-between items-center gap-2">
        <button type="button" (click)="closeModal()"
          class="inline-flex items-center justify-center border text-sm py-2 px-4 shadow-sm bg-stone-800 text-stone-50 rounded-lg hover:bg-stone-700 transition">Cancel</button>
        <button type="button"
          class="inline-flex items-center justify-center border text-sm py-2 px-4 shadow-sm bg-blue-500 text-stone-50 rounded-lg hover:bg-blue-600 transition"
          (click)="sendInterview()">
          Send Message
        </button>
      </div>
    </form>
  </div>
</div>


<!--Popup Ajout Evaluation -->
<div
  class="fixed antialiased inset-0 bg-stone-800 bg-opacity-75 flex justify-center items-center opacity-0 pointer-events-none transition-opacity duration-300 ease-out z-[9999]"
  id="modalEval" aria-hidden="true">
  <div
    class="bg-white rounded-lg w-9/12 sm:w-7/12 md:w-5/12 lg:w-3/12 scale-95 transition-transform duration-300 ease-out">
    <form action="#">
      <div class="p-4 text-stone-500">
        <div class="mb-4 space-y-1.5">
          <label for="username" class="font-sans text-sm text-stone-800 dark:text-white font-semibold mb-2">Nom
            Candidat</label>
          <div class="relative w-full">
            <input placeholder="Username" type="text" disabled="true" [value]="EvalCandidat?.name"
              class="w-full outline-none text-stone-800 placeholder:text-stone-600/60 border border-stone-200 text-sm py-2 px-2.5 shadow-sm bg-white rounded-lg hover:border-stone-300 focus:border-stone-400" />
          </div>
          <div class="mb-4 space-y-1.5">
            <label for="username" class="font-sans text-sm text-stone-800 dark:text-white font-semibold mb-2">Poste
              Candidat</label>
            <div class="relative w-full">
              <input placeholder="Username" type="text" disabled="true" [value]="EvalCandidat?.job?.title"
                class="w-full outline-none text-stone-800 placeholder:text-stone-600/60 border border-stone-200 text-sm py-2 px-2.5 shadow-sm bg-white rounded-lg hover:border-stone-300 focus:border-stone-400" />
            </div>
          </div>
          <div class="mb-4 space-y-1.5">
            <label for="username"
              class="font-sans text-sm text-stone-800 dark:text-white font-semibold mb-2">Note</label>
            <div class="relative w-full">
              <textarea [(ngModel)]="noteEval" name="note"
                class="w-full outline-none text-stone-800 placeholder:text-stone-600/60 border border-stone-200 text-sm py-2 px-2.5 shadow-sm bg-white rounded-lg hover:border-stone-300 focus:border-stone-400"></textarea>
            </div>
          </div>
          <div class="relative rounded flex justify-center flex-col items-center w-full bg-green-300">
            <label class="font-sans text-sm text-stone-800 dark:text-white font-semibold mb-2">
              Bien
            </label>
            <input
              type="radio"
              name="rating"
              value="BIEN"
              [(ngModel)]="selectedRating"
              class="w-full text-sm py-2 px-2.5 bg-white rounded-lg hover:border-stone-300 focus:border-stone-400"
            />
          </div>

          <div class="relative rounded flex justify-center flex-col items-center w-full bg-yellow-300">
            <label class="font-sans text-sm text-stone-800 dark:text-white font-semibold mb-2">
              Passable
            </label>
            <input
              type="radio"
              name="rating"
              value="PASSABLE"
              [(ngModel)]="selectedRating"
              class="w-full text-sm py-2 px-2.5 bg-white rounded-lg hover:border-stone-300 focus:border-stone-400"
            />
          </div>

          <div class="relative rounded w-full flex justify-center flex-col items-center bg-red-300">
            <label class="font-sans text-sm text-stone-800 dark:text-white font-semibold mb-2">
              Faible
            </label>
            <input
              type="radio"
              name="rating"
              value="FAIBLE"
              [(ngModel)]="selectedRating"
              class="w-full text-sm py-2 px-2.5 bg-white rounded-lg hover:border-stone-300 focus:border-stone-400"
            />
          </div>
        </div>
      </div>
      <div class="p-4 pt-0 flex justify-between items-center gap-2">
        <button type="button" (click)="closeEvalModal()"
          class="inline-flex items-center justify-center border text-sm py-2 px-4 shadow-sm bg-stone-800 text-stone-50 rounded-lg hover:bg-stone-700 transition">Cancel</button>
        <button type="button"
          class="inline-flex items-center justify-center border text-sm py-2 px-4 shadow-sm bg-blue-500 text-stone-50 rounded-lg hover:bg-blue-600 transition"
          (click)="sendEvaluation()">
          Save Evaluation
        </button>
      </div>
    </form>
  </div>
</div>
